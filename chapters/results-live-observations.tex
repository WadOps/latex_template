\subsection{Live observations}
In this part, we present the results obtained from our live observations. From the live observations, we were able to identify exactly at which steps users struggle the most. We noticed that the usability of an encryption technology largely depends on its implementation within a mail program, which leads to the fact that the same technology can be laborious to use in one \acrshort{mua} but convenient in another \acrshort{mua}. The following tables contain each step needed to correctly configure and actually use a specific encryption technology in the context of a specific mail program, alongside its difficulty level. We decided to classify the difficulty in 3 levels, depending on the time consumed by our participants to do the step:
\begin{itemize}
	\item Low $\rightarrow$ Less than 5 minutes
	\item Medium $\rightarrow$ Less than 10 minutes
	\item High $\rightarrow$ More than 10 minutes
\end{itemize}

\subsubsection{Results for \acrshort{pgp}:}
We focus on the steps that we identified as highly difficult for our participants, in the context of their respective \acrshort{mua}:
\begin{enumerate}
	\item \textbf{Outlook 2016}: We experienced two difficult steps. The step "upload key pair" didn't work. Users weren't able to import an existing key-pair, but we weren't to identify the cause of this problem. Secondly, the step "Get recipient key" showed to be difficult. This is because the default configuration of Gpg4o is to connect to a key-server using an unusual port. This sometimes results in an empty response or a refused connection, thus the user being unable to find and download the recipient public key on this key server. It's not trivial for users to identify this issues and accordingly go into the respective Outlook settings to change the port number to the one that is commonly used in combination with that key server. Moreover, when composing a new secure mail and opting-in encryption and/or signature feature(s), the graphical user interface get's distored. Buttons, labels and textfields become misaligned and overlap, making the user interface almost unusable particularily difficult to assess whether the correct option was selected.
	\item \textbf{Thunderbird}: Our participants identified three difficult steps. Thunderbird requires not only installing Enigmail plugin, but also extra configuration options that are not easy to find for the users. One has to activate the option "Force using PGP" in the privacy settings of Thunderbird after installing the plugin. Moveover, the option "Activate PGP" has to be applied for each mail account in the account settings. Finally, the step "Get recipient key" was identified as difficult, because Enigmail searches for the missing recipient public keys on only one server at a time. It's up to the user to manually change the key server on which Enigmail searches for missing keys, so it requires patience and willingness to tediously change the key server settings until succeeding in retrieving the recipient public key from one of the servers on which the recipient published his key.
	\item \textbf{Maildroid}: There are two difficult steps. Maildroid (as all other mobile apps analysed) offers no functionality to generate a \acrshort{pgp} key-pair directly on the mobile device, the key has to generated externally (e.g. on a PC) and then be transfered back to the mobile device. There are multiple ways to transfer the generated key-pair (e.g. self-sending it via mail, upload to a cloud, USB exchange), but it requires intense user interaction and downgrades the user experience.
\end{enumerate}
As summary, we recognize that \acrshort{pgp} requires many configuration steps until successfully usage. We can particularily see this for the step of importing the public keys of recipients, which always turned out to be difficult or tedious for all our participants, regardless of the tested plattform. This is due to the design principle of \acrshort{pgp} to let full control to its users with respect to key management -- which at the same time is demanding a basic understanding of asymmetric cryptography and the technology. We conclude that the most difficult \acrshort{mua} to use \acrshort{pgp} with is Thunderbird, because of the largest number of steps with \textbf{high} difficulty, as well as due to the fact that buttons to get configuration steps done are hidden deep in setting menus. In contrast, FlowCrypt is the easiest tool to use \acrshort{pgp} with, as it generates a key-pair for new user with only a few clicks and searches for the recipient key automatically on almost all commonly used key-servers. Thereby FlowCrypt solves nearly all usability issues encountered by our participants. Unfortunately it comes with two downsides: FlowCrypt uploads the generated key-pair only on its proprietary key-server which is unknown to most other \acrshort{pgp} implementations, thus making the import of public keys of FlowCrypt users harder for other users. Secondly, up to now, FlowCrypt only supports Gmail webmail.

{\def\arraystretch{1.2}\tabcolsep=3pt
\begin{table*}[]
	\scriptsize
	\centering
	\begin{tabular}{|l|l|l|l|}
		\hline
		\textbf{Mail user agent}				&\textbf{Steps}				&\textbf{Explanation} 						&\textbf{Difficulty} \\ \hline
		&1-Install Gpg4o plugin.	&											&Low			\\	\cline{2-4}
		&2-Generate key pair.		&											&Low			\\	\cline{2-4}
		&3-Upload old key pair.    & {\color[HTML]{FE0000} It didn't work}		&{\color[HTML]{FE0000} Failed}	\\	\cline{2-4}
		&							& -Get recipient key						&\vtop{\hbox{\strut \color[HTML]{FE0000}-High: wrong port}\hbox{\strut \color[HTML]{FE0000}for default key servers}}.\\
		&4-Write new mail.			& -Select to sign or encrypt.				&{\color[HTML]{FE0000} - High: GUI error.}	\\	\cline{2-4}
		{Outlook 2016}							&5-Verify if incoming email is secured.	&							&Low	\\ \hline
		&1-Install Enigmail plugin.	&                                       &Low	\\ \cline{2-4}
		&2-Generate key pair.		&											&Low	\\ \cline{2-4}
		&3-Activate PGP.			& -Not easy to find option.                 &{\color[HTML]{FE0000} High}	\\ \cline{2-4}
		&4-Force using PGP.		& -Not easy to find option.					&{\color[HTML]{FE0000} High}	\\ \cline{2-4}
		&5-Get recipient key.		& -Search on one server at a time.			&{\color[HTML]{FE0000} High}	\\ \cline{2-4}
		&6-Write secure mail.		& -Select sign and/or encrypt.				&Low	\\ \cline{2-4}
		{Thunderbird}							&7-Verify if incoming email is secured.  & \vtop{\hbox{\strut -If signed:$\rightarrow$ envelope icon}\hbox{\strut -If encrypted:$\rightarrow$ lock icon}}	&Low	\\ \hline
		&1-Install plugin			&											&Low	\\ \cline{2-4}
		&2-Choose passphrase.		&											&Low	\\ \cline{2-4}
		&3-Write secure mail		&-Click on secure compose					&Low	\\ \cline{2-4}
		{\vtop{\hbox{\strut FlowCrypt}\hbox{\strut(Gmail webmail)}}} 		& 4-Verify if incoming email is secured.  &\vtop{\hbox{\strut -If signed, the message is grey}\hbox{\strut  -If encrypted, the message is green.}} & Medium	\\ \hline
		&1-Install Cryptoplugin.	&											&Low	\\ \cline{2-4}
		&2-Generate key-pair.					&-Externally on PC.				&{\color[HTML]{FE0000} High} \\ \cline{2-4}
		&3-Transfer key to mobile device.		&								&{\color[HTML]{FE0000} High}	\\ \cline{2-4}
		&4-Import own key pair to cryptoplugin.	&							&Medium	\\ \cline{2-4}
		&5-Get recipient key.					&-Search on one key server at a time.	&Medium	\\ \cline{2-4}
		&6-Write secure email.		&\vtop{\hbox{\strut -Click on "encrypt" button.}\hbox{\strut -Click on "sign" button.}}	&Low	\\ \cline{2-4}
		{Maildroid}								&7-Verify if incoming email is secured   &								&Low \\ \hline 
	\end{tabular}
	\caption{Live observation results for \acrshort{pgp} \label{tab:ResultsPGP}}
\end{table*}
}

\subsubsection{Results for \acrshort{smime}:}
We focus on the steps that we identified as highly difficult for our participants, in the context of their respective \acrshort{mua}:
\begin{enumerate}
	\item \textbf{Outlook 2016/2013}: There are two difficult steps. The configuration option to let the users import their own digital certificates is not easy to find and our participants passed too much time looking for the button in the settings to import their certificate. In addition, our participants experienced a strange bug that is letting users encrypt their outgoing mail only as reply to another encrypted mail already received, but they cannot encrypt a new mail even though they already retrieved the certificate of the recipient.
	\item \textbf{iOS 12}: There are two difficult steps. Since an user receives the requested certificate from the issuing \acrlong{ca} via mail as compressed file in the attachments, they have to decompress the archive on a computer and then send back the certificate (the actual \emph{.pfx} file) as an attachment in a mail to themselves. Before importing the certificate, they need to activate \acrshort{smime} manually in the settings of the iPhone. The respective settings option is fairly hidden in the phone settings menu.
	\item \textbf{Android}: Only one step of \textbf{high} difficulty. A user has to decompress the received certificate file using another platform (e.g. a PC) transfers back the certificate to the mobile device after decompress, it's the same problem as for iOS. They can only transfer it by sending mail to themselves containing the certificate(the .pfx file).
\end{enumerate}
From the Table \ref{tab:ResultsSMIME}, we can see that \acrshort{smime} is easy to use on the desktop \acrshort{mua}s except for Outlook. Thanks to the way \acrshort{smime} works is easier for novice users, because the users don't have to generate any keys. They receive both public and private digital certificate and they have just import it into the \acrshort{mua}. Once a user receives a signed email, the sender's public certificate is integrated automatically into the \acrshort{mua}. So, the users don't have do any supplementary steps other than configuring \acrshort{smime} in the desired \acrshort{mua}. However, we can conclude that's very difficult to use \acrshort{smime} on Outlook, as the options to import the digital certificate are difficult to find and the user can send an encrypted email only as reply to an a mail that is already secured via \acrshort{smime} (digitally signed). Also, on iOS it's very difficult to activate \acrshort{smime} on the device as the option is not easy to find and there's not any way for the user to send the pfx file back to the device than to send himself an email containing the pfx file. Moreover, the configuration to activate \acrshort{smime} on the iOS devices varies from one iOS version to another.

{\def\arraystretch{1.2}\tabcolsep=3pt
\begin{table*}[]
	\scriptsize
	\centering
	\begin{tabular}{|l|l|l|l|}
		\hline
		\textbf{Mail user agent}				&\textbf{Steps}				&\textbf{Explanation} 						&\textbf{Difficulty} \\ \hline
{Outlook 2016/2013}								&1-Get a certificate.		&-Request from CA.							&Low			\\	\cline{2-4}
												&2-Unzip to get the pfx file.		&									&Low			\\	\cline{2-4}
												&3-Import own certificate.  &-Button to import is hidden				&{\color[HTML]{FE0000}-High.} \\	\cline{2-4}
												&4-Write a secure mail.		&-Sends encrypt email only as reply		&{\color[HTML]{FE0000}-High.}	\\	\cline{2-4}
							&5-Verify if incoming email is secured.	&\vtop{\hbox{\strut -icon is very small}\hbox{\strut -and at the top right.}}	&Medium	\\ \hline
												
{Thunderbird}									&1-Get a certificate.			&-Request from CA.							&Low	\\ \cline{2-4}
												&2-Unzip to get the pfx file.		&									&Low	\\	\cline{2-4}
												&3-Import own certificate.			&                 					&Medium	\\ \cline{2-4}
												&4-Write a secure mail.		&-Select sign and/or encrypt.					&Low	\\ \cline{2-4}
												&5-Verify if incoming email		& \vtop{\hbox{\strut -If signed:$\rightarrow$ envelope icon}\hbox{\strut -If encrypted:$\rightarrow$ lock icon}}	&Low	\\ \hline
												
{Apple Mail (MaCOS)}							&1-Get a certificate.		&-Request from CA.							&Low	\\	\cline{2-4}
												&2-Unzip to get the pfx file.		&									&Low	\\	\cline{2-4}
												&3-Import own certificate.		&-Double click on pfx file.             &Low	\\ \cline{2-4}
		 										&4-Write a secure mail.		&											&Low	\\ \hline
												
{iOS 12 (Latest)}								&1-Get a certificate.			&-Request from CA.							&Low	\\ \cline{2-4}
												&2-Unzip to get the pfx file.		&-Unzip on a computer.					&Medium		\\	\cline{2-4}
												&3-Transfer pfx file to the mobile device.		&-Only by mail.				&{\color[HTML]{FE0000} High}	\\ \cline{2-4}
												&4-Activate S/MIME.			&-Option is hidden							&{\color[HTML]{FE0000} High}	\\ \cline{2-4}
												&5-Import own certificate.			&-Click on pfx received by mail     &Low	\\ \cline{2-4}
												&6-Write a secure email.		&-Auto sign.	&Low	\\ \cline{2-4}
												&7-Verify if incoming email is secured   &\vtop{\hbox{\strut -If signed:$\rightarrow$ just sign}\hbox{\strut -If encrypted:$\rightarrow$ lock icon}}								&Low \\ \hline 

{Android}										&1-Get a certificate.			&-Request from CA.							&Low	\\ \cline{2-4}
												&2-Unzip to get the pfx file.		&-Unzip on a computer.					&Medium		\\	\cline{2-4}
												&3-Install Cryptoplugin.		&-Install an application.				&Low	\\ \cline{2-4}
												&4-Transfer pfx file to the mobile device.		&-Only by mail.				&{\color[HTML]{FE0000} High}	\\ \cline{2-4}
												&5-Import own certificate.			&									&Low	\\ \cline{2-4}
												&6-Write a secure email.		&-Checkboxes to sign and/or encrypt.	&Low	\\ \cline{2-4}
												&7-Verify if incoming email is secured   &								&Low \\ \hline
	\end{tabular}
	\caption{Live observation results for \acrshort{smime} \label{tab:ResultsSMIME}}
\end{table*}
}

\subsubsection{Results for \acrshort{pep}:}
We can see from the Table \ref{tab:ResultspEp} that \acrshort{pep} has the fewest steps in order to configure it and to use it. \acrshort{pep} abstracts many layers and requires only the comparison of trustwords through a handshake which is a very simple step to do. Therefore, \acrshort{pep} is for the ones that would like to secure their email communication without knowing anything about the functionalities and the majority of the users know nothing about security mechanisms and cryptography. So, \acrshort{pep} is the easiest technology to use but it's not (yet) compatible with all platforms. As consequence, we couldn't test it on Apple MacOS or Apple iOS platforms which is used by a big number of people.

{\def\arraystretch{1.2}\tabcolsep=3pt
\begin{table*}[!h]
	\scriptsize
	\centering
	\begin{tabularx}{\textwidth}{|l|l|X|l|}
		\hline
		\textbf{Mail user agent}		& \textbf{Steps}   & \textbf{Explanation}  & \textbf{Difficulty}							\\ \hline
		& 1-Install Enigmail plugin.	&      						 											& Low	\\ \cline{2-4}
		& 2-Force using pEp.			& -Not easy to arrive to option.& {\color[HTML]{FE0000} High} \\ \cline{2-4}
		& 3-Perform Handshake			& -Communicate and compare trustwords after receiving the first email.	& Low	\\ \cline{2-4}
		{Thunderbird}					& 4-Verify if incoming email is secured  &                 				& Low	\\ \hline
		& 1-Install pEp mail app.		&                                                                   	& Low	\\ \cline{2-4}
		& 2-Perform Handshake.			&																		& Low	\\ \cline{2-4}
		{Android}     					& 3-Verify if incoming email is secured. &								& Low	\\
		\hline               
	\end{tabularx}
	\caption{Live observation results for \acrshort{pep} \label{tab:ResultspEp}}
\end{table*}	
}